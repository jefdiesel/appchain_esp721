name = "chainhost-subdomain-router"
main = "subdomain-router.js"
compatibility_date = "2024-01-01"
account_id = "1e154bc12873eef5423dffecfdeae043"
workers_dev = false
preview_urls = false

[[routes]]
pattern = "*.chainhost.online/*"
zone_name = "chainhost.online"

[[routes]]
pattern = "*.chost.app/*"
zone_name = "chost.app"

[[routes]]
pattern = "chost.app/*"
zone_name = "chost.app"

[[routes]]
pattern = "*.immutable.church/*"
zone_name = "immutable.church"

[[routes]]
pattern = "immutable.church/*"
zone_name = "immutable.church"

# KV namespace for caching manifests
[[kv_namespaces]]
binding = "CACHE"
id = "cf1246ee297644ec98a2e0cff569d4cb"

# D1 database for email metadata
# Create with: npx wrangler d1 create chainhost-email
[[d1_databases]]
binding = "DB"
database_name = "chainhost-email"
database_id = "feba224b-bf23-44ce-b32a-8b2325f0a5d1"

# R2 bucket for email storage
# Create with: npx wrangler r2 bucket create chainhost-email
[[r2_buckets]]
binding = "R2"
bucket_name = "chainhost-email"

[vars]
CACHE_CLEAR_KEY = "ch0st-cl34r-2024"
